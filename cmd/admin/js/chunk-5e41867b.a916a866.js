(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e41867b"],{"8d95":function(e,t,a){"use strict";var s=a("c702"),r=a.n(s);r.a},c702:function(e,t,a){},e22f:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("4160"),a("d3b7"),a("159b");var s={data:function(){return{doingAxios:!0,saving:!1,errors:{},data:{}}},mounted:function(){this.getOptions()},methods:{getOptions:function(){var e=this;this.axios.get("/options").then((function(t){e.data=t.data.data})).catch((function(t){e.helpers.handleResponse(t)})).finally((function(){"function"==typeof e.runAfterGet&&e.runAfterGet(),setTimeout((function(){e.doingAxios=!1}),e.axiosTimeout?200:0)}))},save:function(){var e=this;this.saving=!0,"function"==typeof this.runBeforeSave&&this.runBeforeSave(),this.axios.post("/options",this.data).then((function(){e.errors=[],e.$noty.success("Site options updated successfully.")})).catch((function(t){if(e.helpers.checkServer(t),400===t.response.status)return e.validate(t.response.data.data.errors),e.$noty.error(e.errorMsg),void e.setAllHeight();e.helpers.handleResponse(t)})).finally((function(){setTimeout((function(){e.saving=!1}),e.timeoutDelay),setTimeout((function(){e.axios.get("/site").then((function(t){e.$store.commit("setSite",t.data.data)}))}),500)}))},validate:function(e){var t=this;this.errors={},e.forEach((function(e){t.$set(t.errors,e.key,e.message)}))}}}},f729:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"auth-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("header",{staticClass:"header header-with-actions header-margin-large"},[a("div",{staticClass:"header-title"},[a("h1",[e._v("Seo & Meta Settings")]),a("Breadcrumbs")],1),a("div",{staticClass:"header-actions"},[a("button",{staticClass:"btn btn-fixed-height btn-orange",class:{"btn-loading":e.saving},on:{click:function(t){return t.preventDefault(),e.save(t)}}},[e._v(" Update "),a("span",{staticClass:"btn-hide-text-mob"},[e._v("Settings")])])])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.doingAxios&&e.loadingMeta,expression:"doingAxios && loadingMeta"}],staticClass:"media-spinner spinner-container"},[a("div",{staticClass:"spinner spinner-large spinner-grey"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.doingAxios&&!e.loadingMeta,expression:"!doingAxios && !loadingMeta"}],staticClass:"row trans-fade-in-anim"},[a("div",{staticClass:"col-12"},[a("h6",{staticClass:"margin"},[e._v("Visibility")]),a("div",{staticClass:"card card-small-box-shadow card-expand"},[a("div",{staticClass:"collapse-border-bottom"},[a("div",{staticClass:"card-header card-header-block"},[e._m(0),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["seo_private"],expression:"data['seo_private']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"seo-public","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["seo_private"])?e._i(e.data["seo_private"],null)>-1:e.data["seo_private"]},on:{change:function(t){var a=e.data["seo_private"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"seo_private",a.concat([o])):i>-1&&e.$set(e.data,"seo_private",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"seo_private",r)}}}),a("label",{attrs:{for:"seo-public"}})])])])])]),a("div",{staticClass:"col-12"},[a("h6",{staticClass:"margin"},[e._v("Global meta")]),e.loadingMeta?e._e():a("div",{staticClass:"card card-small-box-shadow card-expand"},[a("MetaForm",{attrs:{meta:e.meta},on:{update:e.updateMeta}})],1)]),a("div",{staticClass:"col-12"},[a("h6",{staticClass:"margin"},[e._v("Sitemap")]),a("div",{staticClass:"card card-small-box-shadow card-expand"},[a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header card-header-block"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Serve sitemap?")]),a("p",[e._v("By disabling this selection the "),a("code",[e._v("/sitemap.xml")]),e._v(" file will not be automatically served from the Verbis server.")])]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["seo_sitemap_serve"],expression:"data['seo_sitemap_serve']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"seo-sitemap-serve",checked:"","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["seo_sitemap_serve"])?e._i(e.data["seo_sitemap_serve"],null)>-1:e.data["seo_sitemap_serve"]},on:{change:function(t){var a=e.data["seo_sitemap_serve"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"seo_sitemap_serve",a.concat([o])):i>-1&&e.$set(e.data,"seo_sitemap_serve",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"seo_sitemap_serve",r)}}}),a("label",{attrs:{for:"seo-sitemap-serve"}})])])]},proxy:!0}])}),a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header card-header-block"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Include redirects?")]),a("p",[e._v("By disabling this selection the redirects will not be included in the sitemap.")])]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["seo_sitemap_redirects"],expression:"data['seo_sitemap_redirects']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"seo-sitemap-redirects",checked:"","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["seo_sitemap_redirects"])?e._i(e.data["seo_sitemap_redirects"],null)>-1:e.data["seo_sitemap_redirects"]},on:{change:function(t){var a=e.data["seo_sitemap_redirects"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"seo_sitemap_redirects",a.concat([o])):i>-1&&e.$set(e.data,"seo_sitemap_redirects",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"seo_sitemap_redirects",r)}}}),a("label",{attrs:{for:"seo-sitemap-redirects"}})])])]},proxy:!0}])}),e.data["seo_sitemap_serve"]?a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("View sitemap")]),a("p",[e._v("View the XML sitemap that Verbis generates.")])]),a("div",{staticClass:"card-controls"},[a("i",{staticClass:"feather feather-chevron-down"})])])]},proxy:!0},{key:"body",fn:function(){return[a("div",{staticClass:"card-body"},[a("div",{staticClass:"seo-sitemap-btn"},[a("a",{staticClass:"btn",attrs:{href:e.getSiteUrl+"/sitemap.xml",target:"_blank"}},[e._v("Open in new tab")])]),a("prism-editor",{staticClass:"prism prism-large",attrs:{readonly:!0,highlight:e.highlighter},model:{value:e.sitemap,callback:function(t){e.sitemap=t},expression:"sitemap"}})],1)]},proxy:!0}],null,!1,3627400424)}):e._e(),a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Exclude resources")]),a("p",[e._v("Select resources to exclude from the XML sitemap.")])]),a("div",{staticClass:"card-controls"},[a("i",{staticClass:"feather feather-chevron-down"})])])]},proxy:!0},{key:"body",fn:function(){return[a("div",{ref:"resources",staticClass:"card-body"},[a("vue-tags-input",{attrs:{tags:e.selectedTags,"autocomplete-items":e.filteredResources,"add-only-from-autocomplete":"","autocomplete-min-length":0,placeholder:"Add excluded resource"},on:{"tags-changed":e.updateTags,focus:function(t){return e.updateHeight("resources")},blur:function(t){return e.updateHeight("resources")}},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}})],1)]},proxy:!0}])})],1)]),a("div",{staticClass:"col-12"},[a("h6",{staticClass:"margin"},[e._v("Robots")]),a("div",{staticClass:"card card-small-box-shadow card-expand"},[a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header card-header-block"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Serve robots?")]),a("p",[e._v("By disabling this selection the "),a("code",[e._v("/robots.txt")]),e._v(" file will not be automatically served from the Verbis server.")])]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["seo_robots_serve"],expression:"data['seo_robots_serve']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"seo-robots-serve",checked:"","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["seo_robots_serve"])?e._i(e.data["seo_robots_serve"],null)>-1:e.data["seo_robots_serve"]},on:{change:function(t){var a=e.data["seo_robots_serve"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"seo_robots_serve",a.concat([o])):i>-1&&e.$set(e.data,"seo_robots_serve",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"seo_robots_serve",r)}}}),a("label",{attrs:{for:"seo-robots-serve"}})])])]},proxy:!0}])}),a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Edit robots.txt")]),a("p",[e._v("Edit the "),a("code",[e._v("/robots.txt")]),e._v(" file which is automatically served by the Verbis server.")])]),a("div",{staticClass:"card-controls"},[a("i",{staticClass:"feather feather-chevron-down"})])])]},proxy:!0},{key:"body",fn:function(){return[a("div",{staticClass:"card-body"},[a("FormGroup",{attrs:{label:"Robots File",error:e.errors["robots"]}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.data["seo_robots"],expression:"data['seo_robots']"}],staticClass:"form-textarea form-input form-input-white",attrs:{rows:"6",type:"text"},domProps:{value:e.data["seo_robots"]},on:{input:function(t){t.target.composing||e.$set(e.data,"seo_robots",t.target.value)}}})])],1)]},proxy:!0}])})],1)]),a("div",{staticClass:"col-12"},[a("h6",{staticClass:"margin"},[e._v("Breadcrumbs")]),a("div",{staticClass:"card card-small-box-shadow card-expand"},[a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header card-header-block"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Enable?")]),a("p",[e._v("By enabling this option, breadcrumbs will be enabled on the website as well as schema.")])]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["breadcrumbs_enable"],expression:"data['breadcrumbs_enable']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"breadcrumbs_enable","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["breadcrumbs_enable"])?e._i(e.data["breadcrumbs_enable"],null)>-1:e.data["breadcrumbs_enable"]},on:{change:function(t){var a=e.data["breadcrumbs_enable"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"breadcrumbs_enable",a.concat([o])):i>-1&&e.$set(e.data,"breadcrumbs_enable",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"breadcrumbs_enable",r)}}}),a("label",{attrs:{for:"breadcrumbs_enable"}})])])]},proxy:!0}])}),a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header card-header-block"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Hide from homepage?")]),a("p",[e._v("By enabling this option, the the homepage crumb will be hidden.")])]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["breadcrumbs_hide_homepage"],expression:"data['breadcrumbs_hide_homepage']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"breadcrumbs_hide_homepage","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["breadcrumbs_hide_homepage"])?e._i(e.data["breadcrumbs_hide_homepage"],null)>-1:e.data["breadcrumbs_hide_homepage"]},on:{change:function(t){var a=e.data["breadcrumbs_hide_homepage"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"breadcrumbs_hide_homepage",a.concat([o])):i>-1&&e.$set(e.data,"breadcrumbs_hide_homepage",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"breadcrumbs_hide_homepage",r)}}}),a("label",{attrs:{for:"breadcrumbs_hide_homepage"}})])])]},proxy:!0}])}),a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Options")]),a("p",[e._v("Select options for displaying breadcrumbs on the website.")])]),a("div",{staticClass:"card-controls"},[a("i",{staticClass:"feather feather-chevron-down"})])])]},proxy:!0},{key:"body",fn:function(){return[a("div",{staticClass:"card-body"},[a("FormGroup",{attrs:{label:"Title",error:e.errors["breadcrumbs_title"]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["breadcrumbs_title"],expression:"data['breadcrumbs_title']"}],staticClass:"form-input form-input-white",attrs:{type:"text"},domProps:{value:e.data["breadcrumbs_title"]},on:{input:function(t){t.target.composing||e.$set(e.data,"breadcrumbs_title",t.target.value)}}})]),a("FormGroup",{attrs:{label:"Separator",error:e.errors["breadcrumbs_separator"]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["breadcrumbs_separator"],expression:"data['breadcrumbs_separator']"}],staticClass:"form-input form-input-white",attrs:{type:"text"},domProps:{value:e.data["breadcrumbs_separator"]},on:{input:function(t){t.target.composing||e.$set(e.data,"breadcrumbs_separator",t.target.value)}}})]),e.data["breadcrumbs_hide_homepage"]?e._e():a("FormGroup",{attrs:{label:"Homepage text",error:e.errors["breadcrumbs_homepage_text"]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["breadcrumbs_homepage_text"],expression:"data['breadcrumbs_homepage_text']"}],staticClass:"form-input form-input-white",attrs:{type:"text"},domProps:{value:e.data["breadcrumbs_homepage_text"]},on:{input:function(t){t.target.composing||e.$set(e.data,"breadcrumbs_homepage_text",t.target.value)}}})])],1)]},proxy:!0}])})],1)]),a("div",{staticClass:"col-12"},[a("h6",{staticClass:"margin"},[e._v("Misc")]),a("div",{staticClass:"card card-small-box-shadow card-expand"},[a("Collapse",{staticClass:"collapse-border-bottom",attrs:{show:!1},scopedSlots:e._u([{key:"header",fn:function(){return[a("div",{staticClass:"card-header card-header-block"},[a("div",[a("h4",{staticClass:"card-title"},[e._v("Enforce trailing slashes?")]),a("p",[e._v("By enabling this option, all pages (apart from the homepage) will be redirected to to a trailing slash, for example "),a("code",[e._v("yoursite.com/posts")]),e._v(" becomes "),a("code",[e._v("yoursite.com/posts/")])])]),a("div",{staticClass:"toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.data["seo_enforce_slash"],expression:"data['seo_enforce_slash']"}],staticClass:"toggle-switch",attrs:{type:"checkbox",id:"seo-enforce-slash","true-value":!0,"false-value":!1},domProps:{checked:Array.isArray(e.data["seo_enforce_slash"])?e._i(e.data["seo_enforce_slash"],null)>-1:e.data["seo_enforce_slash"]},on:{change:function(t){var a=e.data["seo_enforce_slash"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var o=null,i=e._i(a,o);s.checked?i<0&&e.$set(e.data,"seo_enforce_slash",a.concat([o])):i>-1&&e.$set(e.data,"seo_enforce_slash",a.slice(0,i).concat(a.slice(i+1)))}else e.$set(e.data,"seo_enforce_slash",r)}}}),a("label",{attrs:{for:"seo-enforce-slash"}})])])]},proxy:!0}])})],1)])])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",{staticClass:"card-title"},[e._v("Private")]),a("p",[e._v("Enabling private will place a "),a("code",[e._v("no robots")]),e._v(" meta tag on the site, so the page is not visible to search engines.")])])}],o=(a("4de4"),a("7db0"),a("4160"),a("caad"),a("c975"),a("d81d"),a("b0c0"),a("2532"),a("159b"),a("90f8")),i=a("e22f"),c=a("a877"),d=a("e361"),l=a("d7f8"),n=a("2db8"),u=a.n(n),h=a("8c7a"),p=(a("6cf3"),{name:"SeoMeta",mixins:[i["a"]],components:{FormGroup:l["a"],Collapse:d["a"],MetaForm:c["a"],Breadcrumbs:o["a"],VueTagsInput:u.a},data:function(){return{errorMsg:"Fix the errors before saving SEO & Meta settings.",successMsg:"Seo & Meta options updated successfully.",showImageModal:!1,selectedImageType:"",facebookImage:!1,twitterImage:!1,meta:{},loadingMeta:!0,selectedTags:[],tags:[],tag:"",sitemap:""}},mounted:function(){this.getSitemap()},watch:{showRedirectModal:function(e){e||(this.selectedRedirect=!1,this.selectedRedirectKey=!1,this.selectedRedirect=!1)}},methods:{runAfterGet:function(){for(var e in this.data)e.includes("meta_")&&this.$set(this.meta,e,this.data[e]);this.loadingMeta=!1,this.setTags()},updateMeta:function(e,t){this.$set(this.data,t,e)},setTags:function(){var e=this;this.tags=this.getResources.map((function(e){return{text:e.friendly_name,name:e.name}}));var t=this.data["seo_sitemap_excluded"];t&&t.length&&t.forEach((function(t){var a=e.tags.find((function(e){return e.name===t}));a&&e.selectedTags.push({text:a.text,name:a.name})}))},updateTags:function(e){this.data["seo_sitemap_excluded"]={};var t=[];e.forEach((function(e){t.push(e.name)})),this.$set(this.data,"seo_sitemap_excluded",t)},updateHeight:function(e){var t=this;this.$nextTick((function(){console.log(e),console.log(t.$refs),t.helpers.setHeight(t.$refs[e].closest(".collapse-content"))}))},getSitemap:function(){var e=this;this.axios.get("/sitemap.xml",{baseURL:""}).then((function(t){e.sitemap=t.data}))},highlighter:function(e){return Object(h["highlight"])(e,h["languages"].xml,"xml")}},computed:{getResources:function(){var e=this.$store.state.theme.resources,t=[];for(var a in e)t.push(e[a]);return t.push({name:"pages",friendly_name:"Pages",singular_name:"Page",slug:"",icon:"fal fa-file"}),t},filteredResources:function(){var e=this;return this.tags.filter((function(t){return-1!==t.text.toLowerCase().indexOf(e.tag.toLowerCase())}))}}}),m=p,v=(a("8d95"),a("2877")),b=Object(v["a"])(m,s,r,!1,null,"f56a3ecc",null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-5e41867b.a916a866.js.map