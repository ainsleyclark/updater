(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b70e588"],{"074f":function(e,t,a){},"0a65":function(e,t,a){"use strict";var s=a("d5dc"),r=a.n(s);r.a},"0e89":function(e,t,a){"use strict";var s=a("cad2"),r=a.n(s);r.a},"134c":function(e,t,a){"use strict";var s=a("c961"),r=a.n(s);r.a},2121:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.pagination&&e.pagination.pages>1?a("div",{staticClass:"pagination-cont"},[a("div",{staticClass:"pagination"},[a("div",{staticClass:"pagination-item",class:{"pagination-item-disabled":!e.getPagination.prev},on:{click:function(t){return e.update(1)}}},[a("i",{staticClass:"feather feather-chevrons-left"})]),a("div",{staticClass:"pagination-item",class:{"pagination-item-disabled":!e.getPagination.prev},on:{click:function(t){return e.update(e.getPagination.page-1)}}},[a("i",{staticClass:"feather feather-chevron-left"})]),e._l(e.getPages,(function(t){return a("div",{key:t,staticClass:"pagination-item pagination-item-page",class:{"pagination-item-active":t===e.getPagination.page},on:{click:function(a){return e.update(t)}}},[e._v(" "+e._s(t)+" ")])})),a("div",{staticClass:"pagination-item",class:{"pagination-item-disabled":!e.getPagination.next},on:{click:function(t){return e.update(e.getPagination.page+1)}}},[a("i",{staticClass:"feather feather-chevron-right"})]),a("div",{staticClass:"pagination-item",class:{"pagination-item-disabled":!e.getPagination.next},on:{click:function(t){return e.update(e.getPagination.pages)}}},[a("i",{staticClass:"feather feather-chevrons-right"})])],2)]):e._e()},r=[],i={name:"Pagination",props:{pagination:{type:Object}},data:function(){return{pages:[1,2,3,4,5,6],activePage:0}},methods:{update:function(e){this.$emit("update","page=".concat(e))}},computed:{getPages:function(){var e=2,t=0,a=0,s=this.getPagination.page;if(a=s-e<0?Math.abs(Math.abs(s-e)-s):s-(s-e),s+e>this.getPagination.pages){var r=this.getPagination.pages-(s+e);t=r<0?Math.abs(r)+1:s+r}else t=s+e-s;var i=[],n=0;while(n<=t)s+n<=this.getPagination.pages&&i.push(s+n),n++;var o=1;while(o<=a)s-o!==0&&i.push(s-o),o++;return i.sort(),i},getPagination:function(){return this.pagination}}},n=i,o=(a("134c"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,"27412010",null);t["a"]=c.exports},"3af4":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ul",{ref:"tabs",staticClass:"tabs",class:{"tabs-loading":e.loading}},[e._l(e.tabs,(function(t,s){return a("li",{key:s,ref:"tab",refInFor:!0,staticClass:"tabs-item",class:{"tabs-item-active":e.activeTab===s},on:{click:function(t){return e.changeTab(t,s)}}},[a("span",{staticClass:"tabs-title"},[e._v(e._s(t))])])})),a("li",{ref:"indicator",staticClass:"tabs-indicator"})],2)},r=[],i=(a("4160"),a("a9e3"),a("159b"),{name:"Tabs",props:{defaultTab:{type:Number,default:0}},data:function(){return{loading:!0,activeTab:0,tabs:[]}},mounted:function(){var e=this;this.setUpTabs(),this.activeTab=this.defaultTab,this.$nextTick((function(){if(e.$refs["tab"]){var t=e.$refs["tab"][e.defaultTab];e.updatePosition(t,e.defaultTab),setTimeout((function(){e.loading=!1}),200)}}))},created:function(){window.addEventListener("resize",this.handleResize)},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{setUpTabs:function(){var e=this;this.$slots.item.forEach((function(t){e.tabs.push(t.text)}))},changeTab:function(e,t){this.updatePosition(e.target,t),this.$emit("update",t+1)},updatePosition:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;this.activeTab=t,e||(e=this.$refs.tab[t]);var a=this.$refs.tabs,s=this.$refs.indicator,r=e.getBoundingClientRect(),i=a.getBoundingClientRect(),n={left:r.left-i.left,width:r.width};s.style.left=n.left-8+"px",s.style.width=n.width+16+"px"},handleResize:function(){this.updatePosition(!1,this.activeTab)}}}),n=i,o=(a("0e89"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,"29381738",null);t["a"]=c.exports},"3ca3":function(e,t,a){"use strict";var s=a("6547").charAt,r=a("69f3"),i=a("7dd0"),n="String Iterator",o=r.set,c=r.getterFor(n);i(String,"String",(function(e){o(this,{type:n,string:String(e),index:0})}),(function(){var e,t=c(this),a=t.string,r=t.index;return r>=a.length?{value:void 0,done:!0}:(e=s(a,r),t.index+=e.length,{value:e,done:!1})}))},"43c9":function(e,t,a){"use strict";var s=a("074f"),r=a.n(s);r.a},"4c2d":function(e,t,a){"use strict";var s=a("cdcc"),r=a.n(s);r.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var s=a("1d80"),r=a("5899"),i="["+r+"]",n=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),c=function(e){return function(t){var a=String(s(t));return 1&e&&(a=a.replace(n,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:c(1),end:c(2),trim:c(3)}},"60c6":function(e,t,a){},"87f5":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s={methods:{createPassword:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@:\\/@£$%=^&&*()_+?><",a=t.length,s=24,r=0;r<s;r++)e+=t.charAt(Math.floor(Math.random()*a));return e}}}},"99af":function(e,t,a){"use strict";var s=a("23e7"),r=a("d039"),i=a("e8b5"),n=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),d=a("65f0"),u=a("1dde"),p=a("b622"),f=a("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",g=f>=51||!r((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),w=u("concat"),b=function(e){if(!n(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)},_=!g||!w;s({target:"Array",proto:!0,forced:_},{concat:function(e){var t,a,s,r,i,n=o(this),u=d(n,0),p=0;for(t=-1,s=arguments.length;t<s;t++)if(i=-1===t?n:arguments[t],b(i)){if(r=c(i.length),p+r>m)throw TypeError(v);for(a=0;a<r;a++,p++)a in i&&l(u,p,i[a])}else{if(p>=m)throw TypeError(v);l(u,p++,i)}return u.length=p,u}})},a71d:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"trans-fade-quick",mode:"out-in"}},[e.show?a("div",{staticClass:"alert alert-background",class:"alert-"+e.colour},[a("div",{staticClass:"alert-icon"},["error"===e.type?a("i",{staticClass:"feather feather-alert-triangle"}):e._e(),"warning"===e.type?a("i",{staticClass:"feather feather-alert-circle"}):e._e(),"success"===e.type?a("i",{staticClass:"feather feather-check-circle"}):e._e()]),a("div",{staticClass:"alert-text"},[e._t("default")],2),a("button",{staticClass:"alert-close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.show=!1}}},[a("i",{staticClass:"feather feather-x"})])]):e._e()])},r=[],i={name:"Alert",props:{colour:{type:String,default:""},type:{type:String,default:"error"}},data:function(){return{show:!0}}},n=i,o=(a("4c2d"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,null,null);t["a"]=c.exports},a9e3:function(e,t,a){"use strict";var s=a("83ab"),r=a("da84"),i=a("94ca"),n=a("6eeb"),o=a("5135"),c=a("c6b6"),l=a("7156"),d=a("c04e"),u=a("d039"),p=a("7c73"),f=a("241c").f,h=a("06cf").f,m=a("9bf2").f,v=a("58a8").trim,g="Number",w=r[g],b=w.prototype,_=c(p(b))==g,C=function(e){var t,a,s,r,i,n,o,c,l=d(e,!1);if("string"==typeof l&&l.length>2)if(l=v(l),t=l.charCodeAt(0),43===t||45===t){if(a=l.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+l}for(i=l.slice(2),n=i.length,o=0;o<n;o++)if(c=i.charCodeAt(o),c<48||c>r)return NaN;return parseInt(i,s)}return+l};if(i(g,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var k,y=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof y&&(_?u((function(){b.valueOf.call(a)})):c(a)!=g)?l(new w(C(t)),a,y):C(t)},x=s?f(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;x.length>U;U++)o(w,k=x[U])&&!o(y,k)&&m(y,k,h(w,k));y.prototype=b,b.constructor=y,n(r,g,y)}},c961:function(e,t,a){},cad2:function(e,t,a){},cdcc:function(e,t,a){},d5dc:function(e,t,a){},d69c:function(e,t,a){"use strict";var s=a("60c6"),r=a.n(s);r.a},d7f8:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-group",class:{"form-group-error":e.getError}},[a("label",{staticClass:"form-label"},[e._v(e._s(e.label))]),e._t("default"),a("transition",{attrs:{name:"trans-fade-height"}},[e.getError?a("span",{staticClass:"field-message field-message-warning"},[e._v(e._s(e.getError))]):e._e()])],2)},r=[],i={name:"FormGroup",props:{label:{type:String,default:""},error:{type:String,default:""}},data:function(){return{show:!0}},computed:{getError:function(){return""!==this.error&&this.error}}},n=i,o=a("2877"),c=Object(o["a"])(n,s,r,!1,null,"715e7f67",null);t["a"]=c.exports},ddb0:function(e,t,a){var s=a("da84"),r=a("fdbc"),i=a("e260"),n=a("9112"),o=a("b622"),c=o("iterator"),l=o("toStringTag"),d=i.values;for(var u in r){var p=s[u],f=p&&p.prototype;if(f){if(f[c]!==d)try{n(f,c,d)}catch(m){f[c]=d}if(f[l]||n(f,l,u),r[u])for(var h in i)if(f[h]!==i[h])try{n(f,h,i[h])}catch(m){f[h]=i[h]}}}},e6e0:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"popover-cont",class:{"popover-hover":e.hover}},[a("div",{staticClass:"popover-btn",on:{click:e.update}},[e._t("button")],2),a("div",{ref:"popover",staticClass:"popover",class:[{"popover-triangle":e.triangle},{"popover-active":e.show&&e.itemKey===e.active},e.classes]},[a("div",{staticClass:"popover-items-cont"},[e._t("items")],2)])])},r=[],i={name:"Alert",props:{items:{type:Array},triangle:{type:Boolean,default:!1},classes:{type:String,default:""},itemKey:{type:String,default:""},active:{type:String,default:""},hover:{type:Boolean,default:!1}},data:function(){return{show:!1}},methods:{update:function(){this.hover||(this.show=!this.show,this.$emit("update",this.show))}},computed:{getItems:function(){return this.items}}},n=i,o=(a("d69c"),a("2877")),c=Object(o["a"])(n,s,r,!1,null,null,null);t["a"]=c.exports},f812:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"auth-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("header",{staticClass:"header header-with-actions"},[a("div",{staticClass:"header-title"},[a("h1",[e._v("Users")]),a("Breadcrumbs")],1),a("div",{staticClass:"header-actions"},[a("form",{staticClass:"form form-actions"},[a("div",{staticClass:"form-select-cont form-input header-hide-mob"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.bulkType,expression:"bulkType"}],staticClass:"form-select",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.bulkType=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"",disabled:"",selected:""}},[e._v("Bulk actions")]),a("option",{attrs:{value:"delete"}},[e._v("Delete permanently")])])]),a("button",{staticClass:"btn btn-fixed-height btn-margin btn-white header-hide-mob",class:{"btn-loading":e.isDoingBulk},on:{click:function(t){return t.preventDefault(),e.doBulkAction(t)}}},[e._v("Apply")]),a("div",{staticClass:"btn btn-orange btn-fixed-height btn-flex",on:{click:function(t){e.showCreateModal=!0}}},[e._v(" New User ")])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Tabs",{on:{update:e.filterTabs}},[a("template",{slot:"item"},[e._v("Show all")]),a("template",{slot:"item"},[e._v("Banned")]),a("template",{slot:"item"},[e._v("Contributor")]),a("template",{slot:"item"},[e._v("Author")]),a("template",{slot:"item"},[e._v("Editor")]),a("template",{slot:"item"},[e._v("Admin")])],2),e.doingAxios?a("div",{staticClass:"media-spinner spinner-container"},[a("div",{staticClass:"spinner spinner-large spinner-grey"})]):a("div",[a("transition",{attrs:{name:"trans-fade",mode:"out-in"}},[e.users.length?a("div",{staticClass:"table-wrapper"},[a("div",{staticClass:"table-scroll table-with-hover"},[a("table",{staticClass:"table users-table"},[a("thead",[a("tr",[a("th",{staticClass:"table-header-checkbox"},[a("div",{staticClass:"form-checkbox form-checkbox-dark"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedAll,expression:"checkedAll"}],attrs:{type:"checkbox",id:"users-check-all"},domProps:{checked:Array.isArray(e.checkedAll)?e._i(e.checkedAll,null)>-1:e.checkedAll},on:{change:function(t){var a=e.checkedAll,s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&(e.checkedAll=a.concat([i])):n>-1&&(e.checkedAll=a.slice(0,n).concat(a.slice(n+1)))}else e.checkedAll=r}}}),a("label",{attrs:{for:"users-check-all"}},[a("i",{staticClass:"fal fa-check"})])])]),a("th",{staticClass:"table-order",class:{active:"first_name"===e.activeOrder},on:{click:function(t){return e.changeOrderBy("first_name")}}},[a("span",[e._v("Name")]),a("i",{staticClass:"fas fa-caret-down",class:{active:"asc"!==e.orderBy["first_name"]}})]),a("th",{staticClass:"table-order"},[a("span",[e._v("Role")])]),a("th",{staticClass:"table-order",class:{active:"created_at"===e.activeOrder},on:{click:function(t){return e.changeOrderBy("created_at")}}},[a("span",[e._v("Created at")]),a("i",{staticClass:"fas fa-caret-down",class:{active:"asc"!==e.orderBy["created_at"]}})]),a("th")])]),a("tbody",e._l(e.users,(function(t,s){return a("tr",{key:t.uuid,staticClass:"trans-fade-in-anim-slow"},[a("td",{staticClass:"table-checkbox"},[a("div",{staticClass:"form-checkbox form-checkbox-dark"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:t.uuid},domProps:{value:t.id,checked:Array.isArray(e.checked)?e._i(e.checked,t.id)>-1:e.checked},on:{change:function(a){var s=e.checked,r=a.target,i=!!r.checked;if(Array.isArray(s)){var n=t.id,o=e._i(s,n);r.checked?o<0&&(e.checked=s.concat([n])):o>-1&&(e.checked=s.slice(0,o).concat(s.slice(o+1)))}else e.checked=i}}}),a("label",{attrs:{for:t.uuid}},[a("i",{staticClass:"fal fa-check"})])])]),a("td",[a("router-link",{staticClass:"users-table-info",attrs:{to:{name:"edit-user",params:{id:t.id}}}},[e.getProfilePicture(t["profile_picture_id"])?a("img",{staticClass:"avatar",attrs:{src:e.getSite.url+e.getProfilePicture(t["profile_picture_id"])}}):a("span",{staticClass:"avatar",domProps:{innerHTML:e._s(e.getInitials(t))}}),a("div",{staticClass:"users-table-info-name"},[a("h4",[e._v(e._s(t["first_name"])+" "+e._s(t["last_name"]))]),a("p",[e._v(e._s(t["email"]))])])])],1),a("td",{staticClass:"users-table-role"},[a("div",{staticClass:"badge capitalize",class:{"badge-orange":"Banned"===t.role.name,"badge-green":"Administrator"===t.role.name,"badge-blue":"Contributor"===t.role.name||"Editor"===t.role.name||"Author"===t.role.name}},[e._v(e._s(t.role.name))])]),a("td",[a("span",[e._v(e._s(e._f("moment")(t["created_at"],"dddd, MMMM Do YYYY")))])]),a("td",{staticClass:"table-actions"},[a("Popover",{attrs:{triangle:!1,classes:s+1>e.users.length-4?"popover-table popover-table-top":"popover-table popover-table-bottom","item-key":t.uuid,active:e.activeAction},on:{update:function(a){return e.updateActions(a,t.uuid)}}},[a("template",{slot:"items"},[a("router-link",{staticClass:"popover-item popover-item-icon",attrs:{to:{name:"edit-user",params:{id:t.id}}}},[a("i",{staticClass:"feather feather-edit"}),a("span",[e._v("Edit")])]),a("div",{staticClass:"popover-line"}),a("div",{staticClass:"popover-item popover-item-icon popover-item-border popover-item-orange",on:{click:function(a){return e.handleDelete(t)}}},[a("i",{staticClass:"feather feather-trash-2"}),a("span",[e._v("Delete")])])],1),a("template",{slot:"button"},[a("i",{staticClass:"icon icon-square far fa-ellipsis-h",class:{"icon-square-active":e.activeAction===t.uuid}})])],2)],1)])})),0)])])]):a("Alert",{attrs:{colour:"orange"}},[e._t("default",[a("h3",[e._v("No "+e._s("all"===e.activeTabName?"":e.activeTabNamem)+" users available. ")]),a("p",[e._v("To create a new one, click the button above.")])])],2)],1)],1)],1)]),a("transition",{attrs:{name:"trans-fade-in-anim"}},[!e.doingAxios&&e.paginationObj?a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("Pagination",{attrs:{pagination:e.paginationObj},on:{update:e.setPagination}})],1)]):e._e()])],1),a("Modal",{staticClass:"modal-with-icon modal-with-warning users-delete",attrs:{show:e.showDeleteModal},on:{"update:show":function(t){e.showDeleteModal=t}}},[a("template",{slot:"button"},[a("button",{staticClass:"btn",class:{"btn-loading":e.isDeleting},on:{click:e.deleteUser}},[e._v("Delete")])]),a("template",{slot:"text"},[a("h2",[e._v("Are you sure?")]),e.selectedUser?a("p",[e._v("Are you sure want to delete "+e._s(e.selectedUser["first_name"])+"?")]):a("p",[e._v("Are you sure want to delete "+e._s(e.checked.length)+" users?")])])],2),a("CreateUser",{attrs:{show:e.showCreateModal},on:{"update:show":function(t){e.showCreateModal=t},update:e.getUsers}})],1)},r=[],i=(a("99af"),a("4de4"),a("7db0"),a("4160"),a("d81d"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("96cf"),a("1da1")),n=a("a71d"),o=a("90f8"),c=a("9556"),l=a("e6e0"),d=a("2121"),u=a("3af4"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{},[a("Modal",{staticClass:"modal-large create",attrs:{show:e.showCreateModal},on:{"update:show":function(t){e.showCreateModal=t}}},[a("template",{slot:"button"},[a("div",{staticClass:"create-buttons"},[a("button",{staticClass:"btn",on:{click:function(t){return t.preventDefault(),e.generatePassword(t)}}},[a("span",[e._v("Generate password")])]),a("button",{staticClass:"btn btn-blue btn-margin-left",class:{"btn-loading":e.doingAxios},on:{click:e.create}},[e._v("Create")])])]),a("template",{slot:"text"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("h2",[e._v("Create user")])]),a("div",{staticClass:"col-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-desk-6"},[a("FormGroup",{attrs:{label:"First name*",error:e.errors["first_name"]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["first_name"],expression:"newUser['first_name']"}],staticClass:"form-input form-input-white",attrs:{type:"text",tabindex:"1"},domProps:{value:e.newUser["first_name"]},on:{input:function(t){t.target.composing||e.$set(e.newUser,"first_name",t.target.value)}}})])],1),a("div",{staticClass:"col-12 col-desk-6"},[a("FormGroup",{attrs:{label:"Last name*",error:e.errors["last_name"]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["last_name"],expression:"newUser['last_name']"}],staticClass:"form-input form-input-white",attrs:{type:"text",tabindex:"2"},domProps:{value:e.newUser["last_name"]},on:{input:function(t){t.target.composing||e.$set(e.newUser,"last_name",t.target.value)}}})])],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 col-desk-6"},[a("FormGroup",{attrs:{label:"Email*",error:e.errors["email"]}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["email"],expression:"newUser['email']"}],staticClass:"form-input form-input-white",attrs:{type:"text",tabindex:"3"},domProps:{value:e.newUser["email"]},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}})])],1),a("div",{staticClass:"col-12 col-desk-6"},[a("FormGroup",{attrs:{label:"Role*",error:e.errors["role_id"]}},[a("div",{staticClass:"form-select-cont form-input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.newUser["role"],expression:"newUser['role']"}],staticClass:"form-select",attrs:{id:"user-role"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.newUser,"role",t.target.multiple?a:a[0])}}},e._l(e.getRoles,(function(t,s){return a("option",{key:t.id,attrs:{tabindex:"4"},domProps:{selected:0===s,value:t}},[e._v(e._s(t.name))])})),0)])])],1)]),a("div",{staticClass:"row create-last-row"},[a("div",{staticClass:"col-12 col-desk-6"},[a("FormGroup",{attrs:{label:"Password*",error:e.errors["password"]}},["checkbox"===(e.isGeneratedPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["password"],expression:"newUser['password']"}],staticClass:"form-input form-input-white",attrs:{tabindex:"5",type:"checkbox"},domProps:{checked:Array.isArray(e.newUser["password"])?e._i(e.newUser["password"],null)>-1:e.newUser["password"]},on:{change:function(t){var a=e.newUser["password"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&e.$set(e.newUser,"password",a.concat([i])):n>-1&&e.$set(e.newUser,"password",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.newUser,"password",r)}}}):"radio"===(e.isGeneratedPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["password"],expression:"newUser['password']"}],staticClass:"form-input form-input-white",attrs:{tabindex:"5",type:"radio"},domProps:{checked:e._q(e.newUser["password"],null)},on:{change:function(t){return e.$set(e.newUser,"password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["password"],expression:"newUser['password']"}],staticClass:"form-input form-input-white",attrs:{tabindex:"5",type:e.isGeneratedPassword?"text":"password"},domProps:{value:e.newUser["password"]},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}})])],1),a("div",{staticClass:"col-12 col-desk-6"},[a("FormGroup",{staticClass:"form-group-no-margin",attrs:{label:"Confirm password*",error:e.errors["confirm_password"]}},["checkbox"===(e.isGeneratedPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["confirm_password"],expression:"newUser['confirm_password']"}],staticClass:"form-input form-input-white",attrs:{tabindex:"6",type:"checkbox"},domProps:{checked:Array.isArray(e.newUser["confirm_password"])?e._i(e.newUser["confirm_password"],null)>-1:e.newUser["confirm_password"]},on:{change:function(t){var a=e.newUser["confirm_password"],s=t.target,r=!!s.checked;if(Array.isArray(a)){var i=null,n=e._i(a,i);s.checked?n<0&&e.$set(e.newUser,"confirm_password",a.concat([i])):n>-1&&e.$set(e.newUser,"confirm_password",a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.newUser,"confirm_password",r)}}}):"radio"===(e.isGeneratedPassword?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["confirm_password"],expression:"newUser['confirm_password']"}],staticClass:"form-input form-input-white",attrs:{tabindex:"6",type:"radio"},domProps:{checked:e._q(e.newUser["confirm_password"],null)},on:{change:function(t){return e.$set(e.newUser,"confirm_password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser["confirm_password"],expression:"newUser['confirm_password']"}],staticClass:"form-input form-input-white",attrs:{tabindex:"6",type:e.isGeneratedPassword?"text":"password"},domProps:{value:e.newUser["confirm_password"]},on:{input:function(t){t.target.composing||e.$set(e.newUser,"confirm_password",t.target.value)}}})])],1)])])])])],2)],1)},f=[],h=(a("b0c0"),a("d7f8")),m=a("87f5"),v={name:"CreateUser",mixins:[m["a"]],props:{show:{type:Boolean,default:!1}},components:{FormGroup:h["a"],Modal:c["a"]},data:function(){return{doingAxios:!1,newUser:{},roles:[],errors:[],isGeneratedPassword:!1}},mounted:function(){this.$set(this.newUser,"role",this.getRoles.find((function(e){return"Contributor"===e.name})))},methods:{create:function(){var e=this;this.doingAxios=!0,this.axios.post("/users",this.newUser).then((function(t){e.$noty.success("User created successfully"),e.showCreateModal=!1,e.newUser={},e.$store.commit("addUser",t.data.data),console.log(e.$store.users),e.$emit("update",!0)})).catch((function(t){return e.helpers.checkServer(t),400===t.response.status?(e.validate(t.response.data.data.errors),void e.$noty.error("Fix the errors before saving the user.")):409===t.response.status?(e.errors=[],void e.$noty.error(t.response.data.message)):void e.helpers.handleResponse(t)})).finally((function(){setTimeout((function(){e.doingAxios=!1}),e.timeoutDelay)}))},validate:function(e){var t=this;this.errors={},e.forEach((function(e){t.$set(t.errors,e.key,e.message)}))},generatePassword:function(){var e=this.createPassword();this.$set(this.newUser,"password",e),this.$set(this.newUser,"confirm_password",e),this.isGeneratedPassword=!0}},computed:{showCreateModal:{get:function(){return this.show},set:function(e){this.$emit("update:show",e)}},getRoles:function(){return this.$store.state.roles.filter((function(e){return"Owner"!==e.name}))}}},g=v,w=(a("43c9"),a("2877")),b=Object(w["a"])(g,p,f,!1,null,"c92a2228",null),_=b.exports,C={name:"Users",title:"Users",mixins:[m["a"]],components:{CreateUser:_,Alert:n["a"],Breadcrumbs:o["a"],Modal:c["a"],Popover:l["a"],Pagination:d["a"],Tabs:u["a"]},data:function(){return{doingAxios:!0,users:[],selectedUser:!1,roles:[],media:[],errors:[],paginationObj:{},activeTab:1,activeTabName:"all",order:["",""],orderBy:{title:"asc",user_id:"asc",status:"asc",published_at:"asc"},activeOrder:"",filter:"",pagination:"",bulkType:"",checked:[],activeAction:"",showDeleteModal:!1,showCreateModal:!1,selectedDeleteId:null,isDeleting:!1,isDoingBulk:!1}},mounted:function(){this.getUsers(),this.getMedia()},methods:{getUsers:function(){var e=this;this.axios.get("users?order_by=".concat(this.order[0],"&order_direction=").concat(this.order[1],"&filter=").concat(this.filter,"&").concat(this.pagination),{paramsSerializer:function(e){return e}}).then((function(t){e.users=[],e.paginationObj={},e.paginationObj=t.data.meta.pagination;var a=t.data.data;a.length&&(e.users=e.removeSelf(a))})).catch((function(t){e.helpers.handleResponse(t)})).finally((function(){e.doingAxios=!1}))},deleteUser:function(){var e=this;this.isDeleting=!1;var t=this.selectedUser?[this.selectedUser.id]:this.checked,a=[];t.forEach((function(t){a.push(e.deleteUserAxios(t))})),Promise.all(a).then((function(){var a=1===t.length?"User deleted successfully":"Users deleted successfully.";e.$noty.success(a),e.getUsers()})).catch((function(t){e.helpers.checkServer(t),400!==t.response.status?e.helpers.handleResponse(t):e.$noty.error(t.response.data.message)})).finally((function(){e.activeAction="",e.checked=[],e.checkedAll=!1,e.showDeleteModal=!1,e.bulkType="",e.isDeleting=!1,e.selectedUser=!1}))},deleteUserAxios:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.axios.delete("/users/"+e);case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){this.selectedUser=e,this.showDeleteModal=!0},removeSelf:function(e){var t=this;return e.filter((function(e){return e.id!==t.getUserInfo.id}))},changeOrderBy:function(e){this.activeOrder=e,"desc"===this.orderBy[e]||""===this.orderBy[e]?this.$set(this.orderBy,e,"asc"):this.$set(this.orderBy,e,"desc"),this.order=[e,this.orderBy[e]],this.getUsers()},filterTabs:function(e){this.pagination="page=1",this.activeTab=e;var t="";switch(e){case 1:this.activeTabName="all";break;case 2:this.activeTabName="banned",t='{"roles.name":[{"operator":"=", "value": "Banned"}]}';break;case 3:this.activeTabName="contributor",t='{"roles.name":[{"operator":"=", "value": "Contributor"}]}';break;case 4:this.activeTabName="author",t='{"roles.name":[{"operator":"=", "value": "Author"}]}';break;case 5:this.activeTabName="editor",t='{"roles.name":[{"operator":"=", "value": "Editor"}]}';break;case 6:this.activeTabName="administrator",t='{"roles.name":[{"operator":"=", "value": "Administrator"}]}';break}this.filter=t,this.getUsers()},setPagination:function(e){this.activeAction="",this.pagination=e,this.getUsers()},doBulkAction:function(){var e=this;if(this.isDoingBulk=!0,!this.checked.length)return this.$noty.warning("Select items in order to apply bulk actions"),void setTimeout((function(){e.isDoingBulk=!1}),this.timeoutDelay);"delete"===this.bulkType&&(setTimeout((function(){e.isDoingBulk=!1}),this.timeoutDelay),this.showDeleteModal=!0)},updateActions:function(e,t){this.activeAction=e?t:""},getInitials:function(e){return e["first_name"].charAt(0)+e["last_name"].charAt(0).toUpperCase()},getMedia:function(){var e=this;this.axios.get("/media?limit=all").then((function(t){e.media=t.data.data})).catch((function(t){e.helpers.handleResponse(t)}))},getProfilePicture:function(e){if(this.media.length){var t=this.media.find((function(t){return t.id===e}));return!!t&&t.url}}},computed:{checkedAll:{get:function(){return this.checked.length===this.users.length},set:function(e){this.checked=e?this.users.map((function(e){return e.id})):[]}}}},k=C,y=(a("0a65"),Object(w["a"])(k,s,r,!1,null,null,null));t["default"]=y.exports}}]);
//# sourceMappingURL=chunk-5b70e588.1fcddec5.js.map